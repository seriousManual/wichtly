<div id="list">
    <h1>Wunschzettel</h1>

    <div ng-repeat="person in grouped" class="well user">
        <h2>{{person.userName}}</h2>
        <span ng-click="addWish(person._id)" class="newWish">[Neuer Wunsch]</span>

        <span class="clearfix"></span>

        <div ng-repeat="wish in person.wishes" class="wish">
            <div class="panel panel-default">
                <div class="panel-heading"><strong>{{wish.title}}</strong></div>
                <div class="panel-body">
                    <div class="description" ng-bind-html-unsafe='reworkText(wish.description)'></div>

                    <div ng-show="wish.isOwn">
                        <button type="button" class="btn btn-primary" ng-click="edit(person._id, wish._id)">Ändern</button>
                        <button type="button" class="btn btn-danger" ng-click="deleteWish(person._id, wish._id)">Löschen</button>
                    </div>

                    <div ng-hide="wish.isOwn">
                        <div ng-hide="wish.bought">
                            <button type="button" class="btn btn-primary" ng-click="bought(person._id, wish._id)">Gekauft</button>
                        </div>

                        <div ng-show="wish.bought" class="bought">Gekauft!</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>